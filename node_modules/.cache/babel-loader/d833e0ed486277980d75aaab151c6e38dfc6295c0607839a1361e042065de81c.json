{"ast":null,"code":"import _objectSpread from\"C:/Users/Global PC/Desktop/univer/teaching-platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";const API_URL=\"http://localhost:3000/api\";// Helper function to get the token from localStorage\nconst getAuthHeaders=()=>{const token=localStorage.getItem(\"token\");return{headers:{Authorization:\"Bearer \".concat(token)}};};export const login=async(fullName,password,code)=>{const response=await axios.post(\"\".concat(API_URL,\"/login\"),{fullName,password,code});return response.data;};export const getUsers=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/users\"),getAuthHeaders());return response.data;};export const addUser=async user=>{const response=await axios.post(\"\".concat(API_URL,\"/users\"),user,getAuthHeaders());return response.data;};export const updateUser=async user=>{const response=await axios.put(\"\".concat(API_URL,\"/users\"),user,getAuthHeaders());return response.data;};export const deleteUser=async id=>{const response=await axios.delete(\"\".concat(API_URL,\"/users/\").concat(id),getAuthHeaders());return response.data;};export const generateCode=async(role,quantity,stageId,subjectId)=>{const response=await axios.post(\"\".concat(API_URL,\"/generate-code\"),{role,quantity,stageId,subjectId},getAuthHeaders());return response.data;};export const getCodes=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/codes\"),getAuthHeaders());return response.data;};export const deleteCode=async id=>{const response=await axios.delete(\"\".concat(API_URL,\"/codes/\").concat(id),getAuthHeaders());return response.data;};export const getStages=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/stages\"),getAuthHeaders());return response.data;};export const getSubjects=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/subjects\"),getAuthHeaders());return response.data;};export const searchUsers=async query=>{const response=await axios.get(\"\".concat(API_URL,\"/search-users\"),_objectSpread({params:{query}},getAuthHeaders()));return response.data;};export const addStage=async stage=>{const response=await axios.post(\"\".concat(API_URL,\"/stages\"),stage,getAuthHeaders());return response.data;};export const addSubject=async subject=>{const response=await axios.post(\"\".concat(API_URL,\"/subjects\"),subject,getAuthHeaders());return response.data;};// Add missing functions\nexport const getPosts=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/posts\"),getAuthHeaders());return response.data;};export const addPost=async post=>{const response=await axios.post(\"\".concat(API_URL,\"/posts\"),post,{headers:_objectSpread({\"Content-Type\":\"multipart/form-data\"},getAuthHeaders().headers)});return response.data;};export const updatePost=async post=>{const response=await axios.put(\"\".concat(API_URL,\"/posts\"),post,{headers:_objectSpread({\"Content-Type\":\"multipart/form-data\"},getAuthHeaders().headers)});return response.data;};export const deletePost=async id=>{const response=await axios.delete(\"\".concat(API_URL,\"/posts/\").concat(id),getAuthHeaders());return response.data;};export const getPostsByStage=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/posts-by-stage\"),getAuthHeaders());return response.data;};export const registerUser=async user=>{const response=await axios.post(\"\".concat(API_URL,\"/register\"),user);return response.data;};","map":{"version":3,"names":["axios","API_URL","getAuthHeaders","token","localStorage","getItem","headers","Authorization","concat","login","fullName","password","code","response","post","data","getUsers","get","addUser","user","updateUser","put","deleteUser","id","delete","generateCode","role","quantity","stageId","subjectId","getCodes","deleteCode","getStages","getSubjects","searchUsers","query","_objectSpread","params","addStage","stage","addSubject","subject","getPosts","addPost","updatePost","deletePost","getPostsByStage","registerUser"],"sources":["C:/Users/Global PC/Desktop/univer/teaching-platform/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:3000/api\";\r\n\r\n// Helper function to get the token from localStorage\r\nconst getAuthHeaders = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n};\r\n\r\nexport const login = async (fullName, password, code) => {\r\n  const response = await axios.post(`${API_URL}/login`, {\r\n    fullName,\r\n    password,\r\n    code,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getUsers = async () => {\r\n  const response = await axios.get(`${API_URL}/users`, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const addUser = async (user) => {\r\n  const response = await axios.post(`${API_URL}/users`, user, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const updateUser = async (user) => {\r\n  const response = await axios.put(`${API_URL}/users`, user, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const deleteUser = async (id) => {\r\n  const response = await axios.delete(\r\n    `${API_URL}/users/${id}`,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const generateCode = async (role, quantity, stageId, subjectId) => {\r\n  const response = await axios.post(\r\n    `${API_URL}/generate-code`,\r\n    { role, quantity, stageId, subjectId },\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getCodes = async () => {\r\n  const response = await axios.get(`${API_URL}/codes`, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const deleteCode = async (id) => {\r\n  const response = await axios.delete(\r\n    `${API_URL}/codes/${id}`,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getStages = async () => {\r\n  const response = await axios.get(`${API_URL}/stages`, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const getSubjects = async () => {\r\n  const response = await axios.get(`${API_URL}/subjects`, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const searchUsers = async (query) => {\r\n  const response = await axios.get(`${API_URL}/search-users`, {\r\n    params: { query },\r\n    ...getAuthHeaders(),\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const addStage = async (stage) => {\r\n  const response = await axios.post(\r\n    `${API_URL}/stages`,\r\n    stage,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const addSubject = async (subject) => {\r\n  const response = await axios.post(\r\n    `${API_URL}/subjects`,\r\n    subject,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Add missing functions\r\nexport const getPosts = async () => {\r\n  const response = await axios.get(`${API_URL}/posts`, getAuthHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const addPost = async (post) => {\r\n  const response = await axios.post(`${API_URL}/posts`, post, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n      ...getAuthHeaders().headers,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const updatePost = async (post) => {\r\n  const response = await axios.put(`${API_URL}/posts`, post, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n      ...getAuthHeaders().headers,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const deletePost = async (id) => {\r\n  const response = await axios.delete(\r\n    `${API_URL}/posts/${id}`,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getPostsByStage = async () => {\r\n  const response = await axios.get(\r\n    `${API_URL}/posts-by-stage`,\r\n    getAuthHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const registerUser = async (user) => {\r\n  const response = await axios.post(`${API_URL}/register`, user);\r\n  return response.data;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}