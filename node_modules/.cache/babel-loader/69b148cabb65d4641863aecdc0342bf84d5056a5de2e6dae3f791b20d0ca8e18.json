{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getPostsByStage}from\"../../api\";import{Container,Card,Row,Col,Alert}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentDashboard=()=>{const[posts,setPosts]=useState([]);const[error,setError]=useState(\"\");useEffect(()=>{const fetchPosts=async()=>{try{const data=await getPostsByStage();setPosts(data);}catch(err){console.error(err);setError(\"Failed to fetch posts\");}};fetchPosts();},[]);return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Student Dashboard\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:posts.map(post=>/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-4\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:post.title}),post.type===\"video\"&&post.file_data&&/*#__PURE__*/_jsx(\"video\",{src:\"data:\".concat(post.file_mime,\";base64,\").concat(post.file_data),controls:true,className:\"w-100\"}),post.type===\"image\"&&post.file_data&&/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"data:\".concat(post.file_mime,\";base64,\").concat(post.file_data),alt:post.title}),post.type===\"file\"&&post.file_data&&/*#__PURE__*/_jsx(Card.Link,{href:\"data:\".concat(post.file_mime,\";base64,\").concat(post.file_data),download:post.file_name,children:post.title}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Posted by: \",post.created_by]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Stage: \",post.stage_name]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Subject: \",post.subject_name]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Posted at: \",post.created_at]})]})})},post.id))})]});};export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","getPostsByStage","Container","Card","Row","Col","Alert","jsx","_jsx","jsxs","_jsxs","StudentDashboard","posts","setPosts","error","setError","fetchPosts","data","err","console","className","children","variant","map","post","md","Body","Title","title","type","file_data","src","concat","file_mime","controls","Img","alt","Link","href","download","file_name","Text","created_by","stage_name","subject_name","created_at","id"],"sources":["C:/Users/Global PC/Desktop/univer/teaching-platform/frontend/src/components/dashboards/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getPostsByStage } from \"../../api\";\r\nimport { Container, Card, Row, Col, Alert } from \"react-bootstrap\";\r\n\r\nconst StudentDashboard = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const data = await getPostsByStage();\r\n        setPosts(data);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Failed to fetch posts\");\r\n      }\r\n    };\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h1>Student Dashboard</h1>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Row className=\"mt-3\">\r\n        {posts.map((post) => (\r\n          <Col key={post.id} md={4} className=\"mb-4\">\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title>{post.title}</Card.Title>\r\n                {post.type === \"video\" && post.file_data && (\r\n                  <video\r\n                    src={`data:${post.file_mime};base64,${post.file_data}`}\r\n                    controls\r\n                    className=\"w-100\"\r\n                  />\r\n                )}\r\n                {post.type === \"image\" && post.file_data && (\r\n                  <Card.Img\r\n                    variant=\"top\"\r\n                    src={`data:${post.file_mime};base64,${post.file_data}`}\r\n                    alt={post.title}\r\n                  />\r\n                )}\r\n                {post.type === \"file\" && post.file_data && (\r\n                  <Card.Link\r\n                    href={`data:${post.file_mime};base64,${post.file_data}`}\r\n                    download={post.file_name}\r\n                  >\r\n                    {post.title}\r\n                  </Card.Link>\r\n                )}\r\n                <Card.Text>Posted by: {post.created_by}</Card.Text>\r\n                <Card.Text>Stage: {post.stage_name}</Card.Text>\r\n                <Card.Text>Subject: {post.subject_name}</Card.Text>\r\n                <Card.Text>Posted at: {post.created_at}</Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}